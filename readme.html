<!doctype html>
<html lang="en">
<head>
<title>HETI Stack Simulator</title>
<!-- 2020-04-29 Wed 20:37 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="Christopher Chen">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style type="text/css">
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script type="text/javascript">
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-9"><h1 class="title">HETI Stack Simulator</h1>
<p class="subtitle">stack_sim.py</h1>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>First of all there is NO guarantee that any of this is accurate. It
is only based on hearsay about how the stack algorithm works
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> The algorithm</h2>
<div class="outline-text-2" id="text-2">
<p>
Pseudocode but it's formatted as python for readability purposes
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #a020f0;">for</span> category <span style="color: #a020f0;">in</span> categories:
  <span style="color: #a020f0;">for</span> hospital <span style="color: #a020f0;">in</span> hospitals:
    <span style="color: #a020f0;">for</span> rank <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(length(hospitals)):
      <span style="color: #a0522d;">preferenced_this</span> = <span style="color: #483d8b;">filter</span>(<span style="color: #a020f0;">lambda</span> a: a.preferences[rank] == hospital <span style="color: #a020f0;">and</span> a.category == category, unallocated_applicants)
      hospital.fill(<span style="color: #483d8b;">min</span>(preferenced_this, random.select(preferenced_this, hospital.capacity)))
</pre>
</div>
<ul class="org-ul">
<li>For people who aren't nerds:
<ul class="org-ul">
<li>The algorithm first looks at category
</li>
<li>Then allocates people to each hospital by rank
</li>
<li>It fills spots in each hospital by selecting from people who preferenced that hospital, in descending order of rank
<ul class="org-ul">
<li>If there are more applicants who ranked that hospital than there are spots, it will randomly select from that pool so all spots are filled
</li>
<li>Otherwise it just fills all of those spots with those applicants
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Implementation</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>3 possible scenarios were tested:
<ol class="org-ol">
<li>Everybody preferences hospitals entirely randomly
</li>
<li>Everybody stacks
</li>
<li>Everybody stacks but moves a random hospital of their choice to
first place
</li>
</ol>
</li>
<li>Incomplete list of deviations from reality, simplifications and
assumptions:
<ol class="org-ol">
<li>Everyone chooses randomly
</li>
<li>No hospital is more favourable than another (corollary of assumption 1)
</li>
<li>Everybody has exact same stack
</li>
<li>Everyone who applies accepts the first job offer they get.
</li>
<li>There are no other entry schemes apart from the normal random-allocation route.
</li>
<li>Category 1 applicants are basically guaranteed a job (corollary
of assumption 5).
</li>
</ol>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Results</h2>
<div class="outline-text-2" id="text-4">
<p>
Now you can see there are some obvious problems with the results which
I intend to fix. First of all there are no allocations to ANYONE in
any category below 2, which makes no sense. But otherwise it seems
consistent with what people have been saying about the matching process.
</p>
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Everyone is random</h3>
<div class="outline-text-3" id="text-4-1">

<figure>
<p><img src="./images/All random Satisfied applicants.png" class="img-responsive" alt="All random Satisfied applicants.png">
</p>
</figure>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">total</th>
<th scope="col" class="text-right">cat1</th>
<th scope="col" class="text-right">cat2</th>
<th scope="col" class="text-right">cat3</th>
<th scope="col" class="text-right">cat4</th>
<th scope="col" class="text-right">cat5</th>
<th scope="col" class="text-right">cat6</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">1st</td>
<td class="text-right">724</td>
<td class="text-right">697</td>
<td class="text-right">27</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">2nd</td>
<td class="text-right">99</td>
<td class="text-right">79</td>
<td class="text-right">20</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">3rd</td>
<td class="text-right">36</td>
<td class="text-right">18</td>
<td class="text-right">18</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">4th</td>
<td class="text-right">52</td>
<td class="text-right">26</td>
<td class="text-right">26</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">5th</td>
<td class="text-right">40</td>
<td class="text-right">23</td>
<td class="text-right">17</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">6th</td>
<td class="text-right">23</td>
<td class="text-right">20</td>
<td class="text-right">3</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">7th</td>
<td class="text-right">9</td>
<td class="text-right">9</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">8th</td>
<td class="text-right">9</td>
<td class="text-right">9</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">9th</td>
<td class="text-right">12</td>
<td class="text-right">12</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">10th</td>
<td class="text-right">2</td>
<td class="text-right">2</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">11st</td>
<td class="text-right">9</td>
<td class="text-right">9</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">12nd</td>
<td class="text-right">6</td>
<td class="text-right">6</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">13rd</td>
<td class="text-right">2</td>
<td class="text-right">2</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">14th</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">15th</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">placed</td>
<td class="text-right">1027</td>
<td class="text-right">916</td>
<td class="text-right">111</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">not_placed</td>
<td class="text-right">512</td>
<td class="text-right">0</td>
<td class="text-right">91</td>
<td class="text-right">158</td>
<td class="text-right">148</td>
<td class="text-right">101</td>
<td class="text-right">14</td>
</tr>

<tr>
<td class="text-left">total</td>
<td class="text-right">1539</td>
<td class="text-right">916</td>
<td class="text-right">202</td>
<td class="text-right">158</td>
<td class="text-right">148</td>
<td class="text-right">101</td>
<td class="text-right">14</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-sec-4-1-1" class="outline-4">
<h4 id="sec-4-1-1"><span class="section-number-4">4.1.1</span> Total</h4>
<div class="outline-text-4" id="text-4-1-1">

<figure>
<p><img src="./images/All random Satisfied applicants total.png" class="img-responsive" alt="All random Satisfied applicants total.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-1-2" class="outline-4">
<h4 id="sec-4-1-2"><span class="section-number-4">4.1.2</span> Category 1</h4>
<div class="outline-text-4" id="text-4-1-2">

<figure>
<p><img src="./images/All random Satisfied applicants cat1.png" class="img-responsive" alt="All random Satisfied applicants cat1.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-1-3" class="outline-4">
<h4 id="sec-4-1-3"><span class="section-number-4">4.1.3</span> Category 2</h4>
<div class="outline-text-4" id="text-4-1-3">

<figure>
<p><img src="./images/All random Satisfied applicants cat2.png" class="img-responsive" alt="All random Satisfied applicants cat2.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-1-4" class="outline-4">
<h4 id="sec-4-1-4"><span class="section-number-4">4.1.4</span> Category 3</h4>
<div class="outline-text-4" id="text-4-1-4">

<figure>
<p><img src="./images/All random Satisfied applicants cat3.png" class="img-responsive" alt="All random Satisfied applicants cat3.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-1-5" class="outline-4">
<h4 id="sec-4-1-5"><span class="section-number-4">4.1.5</span> Category 4</h4>
<div class="outline-text-4" id="text-4-1-5">

<figure>
<p><img src="./images/All random Satisfied applicants cat4.png" class="img-responsive" alt="All random Satisfied applicants cat4.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-1-6" class="outline-4">
<h4 id="sec-4-1-6"><span class="section-number-4">4.1.6</span> Category 5</h4>
<div class="outline-text-4" id="text-4-1-6">

<figure>
<p><img src="./images/All random Satisfied applicants cat5.png" class="img-responsive" alt="All random Satisfied applicants cat5.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-1-7" class="outline-4">
<h4 id="sec-4-1-7"><span class="section-number-4">4.1.7</span> Category 6</h4>
<div class="outline-text-4" id="text-4-1-7">

<figure>
<p><img src="./images/All random Satisfied applicants cat6.png" class="img-responsive" alt="All random Satisfied applicants cat6.png">
</p>
</figure>
</div>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Everyone stacks</h3>
<div class="outline-text-3" id="text-4-2">

<figure>
<p><img src="./images/All stack Satisfied applicants.png" class="img-responsive" alt="All stack Satisfied applicants.png">
</p>
</figure>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">total</th>
<th scope="col" class="text-right">cat1</th>
<th scope="col" class="text-right">cat2</th>
<th scope="col" class="text-right">cat3</th>
<th scope="col" class="text-right">cat4</th>
<th scope="col" class="text-right">cat5</th>
<th scope="col" class="text-right">cat6</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">1st</td>
<td class="text-right">64</td>
<td class="text-right">64</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">2nd</td>
<td class="text-right">71</td>
<td class="text-right">71</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">3rd</td>
<td class="text-right">51</td>
<td class="text-right">51</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">4th</td>
<td class="text-right">54</td>
<td class="text-right">54</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">5th</td>
<td class="text-right">49</td>
<td class="text-right">49</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">6th</td>
<td class="text-right">76</td>
<td class="text-right">76</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">7th</td>
<td class="text-right">121</td>
<td class="text-right">121</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">8th</td>
<td class="text-right">40</td>
<td class="text-right">40</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">9th</td>
<td class="text-right">125</td>
<td class="text-right">125</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">10th</td>
<td class="text-right">74</td>
<td class="text-right">74</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">11st</td>
<td class="text-right">51</td>
<td class="text-right">51</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">12nd</td>
<td class="text-right">68</td>
<td class="text-right">68</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">13rd</td>
<td class="text-right">66</td>
<td class="text-right">66</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">14th</td>
<td class="text-right">63</td>
<td class="text-right">6</td>
<td class="text-right">57</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">15th</td>
<td class="text-right">54</td>
<td class="text-right">0</td>
<td class="text-right">54</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">placed</td>
<td class="text-right">1027</td>
<td class="text-right">916</td>
<td class="text-right">111</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">not_placed</td>
<td class="text-right">512</td>
<td class="text-right">0</td>
<td class="text-right">91</td>
<td class="text-right">158</td>
<td class="text-right">148</td>
<td class="text-right">101</td>
<td class="text-right">14</td>
</tr>

<tr>
<td class="text-left">total</td>
<td class="text-right">1539</td>
<td class="text-right">916</td>
<td class="text-right">202</td>
<td class="text-right">158</td>
<td class="text-right">148</td>
<td class="text-right">101</td>
<td class="text-right">14</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-sec-4-2-1" class="outline-4">
<h4 id="sec-4-2-1"><span class="section-number-4">4.2.1</span> Total</h4>
<div class="outline-text-4" id="text-4-2-1">

<figure>
<p><img src="./images/All stack Satisfied applicants total.png" class="img-responsive" alt="All stack Satisfied applicants total.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-2-2" class="outline-4">
<h4 id="sec-4-2-2"><span class="section-number-4">4.2.2</span> Category 1</h4>
<div class="outline-text-4" id="text-4-2-2">

<figure>
<p><img src="./images/All stack Satisfied applicants cat1.png" class="img-responsive" alt="All stack Satisfied applicants cat1.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-2-3" class="outline-4">
<h4 id="sec-4-2-3"><span class="section-number-4">4.2.3</span> Category 2</h4>
<div class="outline-text-4" id="text-4-2-3">

<figure>
<p><img src="./images/All stack Satisfied applicants cat2.png" class="img-responsive" alt="All stack Satisfied applicants cat2.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-2-4" class="outline-4">
<h4 id="sec-4-2-4"><span class="section-number-4">4.2.4</span> Category 3</h4>
<div class="outline-text-4" id="text-4-2-4">

<figure>
<p><img src="./images/All stack Satisfied applicants cat3.png" class="img-responsive" alt="All stack Satisfied applicants cat3.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-2-5" class="outline-4">
<h4 id="sec-4-2-5"><span class="section-number-4">4.2.5</span> Category 4</h4>
<div class="outline-text-4" id="text-4-2-5">

<figure>
<p><img src="./images/All stack Satisfied applicants cat4.png" class="img-responsive" alt="All stack Satisfied applicants cat4.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-2-6" class="outline-4">
<h4 id="sec-4-2-6"><span class="section-number-4">4.2.6</span> Category 5</h4>
<div class="outline-text-4" id="text-4-2-6">

<figure>
<p><img src="./images/All stack Satisfied applicants cat5.png" class="img-responsive" alt="All stack Satisfied applicants cat5.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-2-7" class="outline-4">
<h4 id="sec-4-2-7"><span class="section-number-4">4.2.7</span> Category 6</h4>
<div class="outline-text-4" id="text-4-2-7">

<figure>
<p><img src="./images/All stack Satisfied applicants cat6.png" class="img-responsive" alt="All stack Satisfied applicants cat6.png">
</p>
</figure>
</div>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> Everyone stacks but moves a random to first</h3>
<div class="outline-text-3" id="text-4-3">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants.png">
</p>
</figure>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">total</th>
<th scope="col" class="text-right">cat1</th>
<th scope="col" class="text-right">cat2</th>
<th scope="col" class="text-right">cat3</th>
<th scope="col" class="text-right">cat4</th>
<th scope="col" class="text-right">cat5</th>
<th scope="col" class="text-right">cat6</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">1st</td>
<td class="text-right">766</td>
<td class="text-right">740</td>
<td class="text-right">26</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">2nd</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">3rd</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">4th</td>
<td class="text-right">8</td>
<td class="text-right">8</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">5th</td>
<td class="text-right">2</td>
<td class="text-right">2</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">6th</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">7th</td>
<td class="text-right">1</td>
<td class="text-right">1</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">8th</td>
<td class="text-right">22</td>
<td class="text-right">22</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">9th</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">10th</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">11st</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">12nd</td>
<td class="text-right">31</td>
<td class="text-right">31</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">13rd</td>
<td class="text-right">31</td>
<td class="text-right">31</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">14th</td>
<td class="text-right">118</td>
<td class="text-right">77</td>
<td class="text-right">41</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">15th</td>
<td class="text-right">48</td>
<td class="text-right">4</td>
<td class="text-right">44</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">placed</td>
<td class="text-right">1027</td>
<td class="text-right">916</td>
<td class="text-right">111</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
<td class="text-right">0</td>
</tr>

<tr>
<td class="text-left">not_placed</td>
<td class="text-right">512</td>
<td class="text-right">0</td>
<td class="text-right">91</td>
<td class="text-right">158</td>
<td class="text-right">148</td>
<td class="text-right">101</td>
<td class="text-right">14</td>
</tr>

<tr>
<td class="text-left">total</td>
<td class="text-right">1539</td>
<td class="text-right">916</td>
<td class="text-right">202</td>
<td class="text-right">158</td>
<td class="text-right">148</td>
<td class="text-right">101</td>
<td class="text-right">14</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-sec-4-3-1" class="outline-4">
<h4 id="sec-4-3-1"><span class="section-number-4">4.3.1</span> Total</h4>
<div class="outline-text-4" id="text-4-3-1">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants total.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants total.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-3-2" class="outline-4">
<h4 id="sec-4-3-2"><span class="section-number-4">4.3.2</span> Category 1</h4>
<div class="outline-text-4" id="text-4-3-2">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants cat1.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants cat1.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-3-3" class="outline-4">
<h4 id="sec-4-3-3"><span class="section-number-4">4.3.3</span> Category 2</h4>
<div class="outline-text-4" id="text-4-3-3">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants cat2.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants cat2.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-3-4" class="outline-4">
<h4 id="sec-4-3-4"><span class="section-number-4">4.3.4</span> Category 3</h4>
<div class="outline-text-4" id="text-4-3-4">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants cat3.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants cat3.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-3-5" class="outline-4">
<h4 id="sec-4-3-5"><span class="section-number-4">4.3.5</span> Category 4</h4>
<div class="outline-text-4" id="text-4-3-5">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants cat4.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants cat4.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-3-6" class="outline-4">
<h4 id="sec-4-3-6"><span class="section-number-4">4.3.6</span> Category 5</h4>
<div class="outline-text-4" id="text-4-3-6">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants cat5.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants cat5.png">
</p>
</figure>
</div>
</div>
<div id="outline-container-sec-4-3-7" class="outline-4">
<h4 id="sec-4-3-7"><span class="section-number-4">4.3.7</span> Category 6</h4>
<div class="outline-text-4" id="text-4-3-7">

<figure>
<p><img src="./images/All stack but put random at top Satisfied applicants cat6.png" class="img-responsive" alt="All stack but put random at top Satisfied applicants cat6.png">
</p>
</figure>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Discussion</h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li>In short, under each strategy:
<ol class="org-ol">
<li>All random
<ul class="org-ul">
<li>Fairest gradation of ranks from top to bottom
</li>
<li>Nobody actually selects like this IRL (unless you're a weirdo)
</li>
</ul>
</li>
<li>All stack
<ul class="org-ul">
<li>It's basically communism for internships.
</li>
<li>You have a near-equal chance at landing just about every
hospital.
</li>
</ul>
</li>
<li>All stack but put a random on top
<ul class="org-ul">
<li>Interestingly, you're most likely to get (in order) your first
or 14th preference.
</li>
<li>Proportionally, more people will be shafted to the bottom.
</li>
<li>This appears to be most consistent with the strategy people use
IRL.
</li>
</ul>
</li>
</ol>
</li>
<li>It is also consistent with the following observations:
<ul class="org-ul">
<li>"The last 4 are the most important" - sort of. , a proportionally larger number of people are being shafted
to the bottom.
</li>
<li>"Stacking hurts your chances of getting to preferences 1-6"
(HETI, 2020) - true wherever stacking is used.
</li>
</ul>
</li>
<li>If this is indeed HETI's algorithm, satisfaction appears to be
maximised under strategy 3
</li>
<li>There are a lot of deviations between this simulation and the
actual data produced by HETI.
<ul class="org-ul">
<li>Not only do I not have all the information to make this simulation
completely accurate, I did not factor in for all the other entry
pathways and schemes. That's why the simulation output is so
hilariously bad when it comes to anyone below category 1
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> What should you do?</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>Depends on what you want lmao
<ul class="org-ul">
<li>There is not enough data to draw any definitive conclusions on what
the "best" strategy is, especially since a lot of simplifications
were made to run this model
</li>
<li>Strategy 3 gives you the best chance of getting your first preference
</li>
<li>Strategy 2 is best if you don't care where you will end up, but
given that IRL it is mostly a mix between strategies 2 and 3, this
might not lead to the same result.
</li>
</ul>
</li>
<li>My code could be wrong, feel free to fork me/submit a pull request
if you have something to add
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> <span class="label label-primary TODO">TODO</span> Future directions/todos</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li><code>[&#xa0;]</code> Significance analysis of results
</li>
<li><code>[&#xa0;]</code> Further strategic analysis
</li>
<li><code>[&#xa0;]</code> Fix the algorithm so it's more consistent with the real data
</li>
<li><code>[&#xa0;]</code> Implement more scenarios e.g. some people stack, some people
random
</li>
<li><code>[&#xa0;]</code> More data is needed to make this more accurate e.g. how many
people preference each hospital in what order every year?
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Sources</h2>
<div class="outline-text-2" id="text-8">
<ul class="org-ul">
<li>I based my data on the AMSA Internship Guide<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup> and HETI's Annual Report<sup><a id="fnr.2" name="fnr.2" class="footref" href="#fn.2">2</a></sup>
</li>
</ul>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p class="footpara">
<a href="https://www.amsa.org.au/sites/amsa.org.au/files/Internship%20Guide%202019%20Final.pdf">https://www.amsa.org.au/sites/amsa.org.au/files/Internship%20Guide%202019%20Final.pdf</a>
</p></div>

<div class="footdef"><sup><a id="fn.2" name="fn.2" class="footnum" href="#fnr.2">2</a></sup> <p class="footpara">
<a href="https://www.heti.nsw.gov.au/__data/assets/pdf_file/0019/485002/Annual-Report-for-Medical-Graduate-Recruitment-for-the-2019-Clinical-Year.PDF">https://www.heti.nsw.gov.au/__data/assets/pdf_file/0019/485002/Annual-Report-for-Medical-Graduate-Recruitment-for-the-2019-Clinical-Year.PDF</a> 
</p></div>


</div>
</div></div><div class="col-md-3"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. Introduction</a></li>
<li><a href="#sec-2">2. The algorithm</a></li>
<li><a href="#sec-3">3. Implementation</a></li>
<li><a href="#sec-4">4. Results</a>
<ul class="nav">
<li><a href="#sec-4-1">4.1. Everyone is random</a>
<ul class="nav">
<li><a href="#sec-4-1-1">4.1.1. Total</a></li>
<li><a href="#sec-4-1-2">4.1.2. Category 1</a></li>
<li><a href="#sec-4-1-3">4.1.3. Category 2</a></li>
<li><a href="#sec-4-1-4">4.1.4. Category 3</a></li>
<li><a href="#sec-4-1-5">4.1.5. Category 4</a></li>
<li><a href="#sec-4-1-6">4.1.6. Category 5</a></li>
<li><a href="#sec-4-1-7">4.1.7. Category 6</a></li>
</ul>
</li>
<li><a href="#sec-4-2">4.2. Everyone stacks</a>
<ul class="nav">
<li><a href="#sec-4-2-1">4.2.1. Total</a></li>
<li><a href="#sec-4-2-2">4.2.2. Category 1</a></li>
<li><a href="#sec-4-2-3">4.2.3. Category 2</a></li>
<li><a href="#sec-4-2-4">4.2.4. Category 3</a></li>
<li><a href="#sec-4-2-5">4.2.5. Category 4</a></li>
<li><a href="#sec-4-2-6">4.2.6. Category 5</a></li>
<li><a href="#sec-4-2-7">4.2.7. Category 6</a></li>
</ul>
</li>
<li><a href="#sec-4-3">4.3. Everyone stacks but moves a random to first</a>
<ul class="nav">
<li><a href="#sec-4-3-1">4.3.1. Total</a></li>
<li><a href="#sec-4-3-2">4.3.2. Category 1</a></li>
<li><a href="#sec-4-3-3">4.3.3. Category 2</a></li>
<li><a href="#sec-4-3-4">4.3.4. Category 3</a></li>
<li><a href="#sec-4-3-5">4.3.5. Category 4</a></li>
<li><a href="#sec-4-3-6">4.3.6. Category 5</a></li>
<li><a href="#sec-4-3-7">4.3.7. Category 6</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-5">5. Discussion</a></li>
<li><a href="#sec-6">6. What should you do?</a></li>
<li><a href="#sec-7">7. Future directions/todos</a></li>
<li><a href="#sec-8">8. Sources</a></li>
</ul>
</div>
</nav>
</div></div></div>
<footer id="postamble" class="">
<div><p class="date">Date: 2020-04-28</p>
<p class="author">Author: Christopher Chen</p>
<p class="date">Created: 2020-04-29 Wed 20:37</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.3 (<a href="http://orgmode.org">Org-mode</a> 9.3.6)</p>
</div>
</footer>
</body>
</html>
